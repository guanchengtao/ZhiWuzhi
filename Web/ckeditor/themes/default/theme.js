/*
Copyright (c) 2003-2011, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.html or http://cKeditor.com/license
*/

CKeDITOR.themes.add('default',(function(){var a={};function b(c,d){var e,f;f=c.config.sharedSpaces;f=f&&f[d];f=f&&CKeDITOR.document.getById(f);if(f){var g='<span class="cKe_shared " dir="'+c.lang.dir+'"'+'>'+'<span class="'+c.skinClass+' '+c.id+' cKe_editor_'+c.name+'">'+'<span class="'+CKeDITOR.env.cssClass+'">'+'<span class="cKe_wrapper cKe_'+c.lang.dir+'">'+'<span class="cKe_editor">'+'<div class="cKe_'+d+'">'+'</div></span></span></span></span></span>',h=f.append(CKeDITOR.dom.element.createFromHtml(g,f.getDocument()));if(f.getCustomData('cKe_hasshared'))h.hide();else f.setCustomData('cKe_hasshared',1);e=h.getChild([0,0,0,0]);!c.sharedSpaces&&(c.sharedSpaces={});c.sharedSpaces[d]=e;c.on('focus',function(){for(var i=0,j,k=f.getChildren();j=k.getItem(i);i++){if(j.type==CKeDITOR.NODE_ELEMENT&&!j.equals(h)&&j.hasClass('cKe_shared'))j.hide();}h.show();});c.on('destroy',function(){h.remove();});}return e;};return{build:function(c,d){var e=c.name,f=c.element,g=c.elementMode;if(!f||g==CKeDITOR.ELEMENT_MODE_NONE)return;if(g==CKeDITOR.ELEMENT_MODE_REPLACE)f.hide();var h=c.fire('themeSpace',{space:'top',html:''}).html,i=c.fire('themeSpace',{space:'contents',html:''}).html,j=c.fireOnce('themeSpace',{space:'bottom',html:''}).html,k=i&&c.config.height,l=c.config.tabIndex||c.element.getAttribute('tabindex')||0;if(!i)k='auto';else if(!isNaN(k))k+='px';var m='',n=c.config.width;if(n){if(!isNaN(n))n+='px';m+='width: '+n+';';}var o=h&&b(c,'top'),p=b(c,'bottom');o&&(o.setHtml(h),h='');p&&(p.setHtml(j),j='');var q='<style>.'+c.skinClass+'{visibility:hidden;}</style>';if(a[c.skinClass])q='';else a[c.skinClass]=1;var r=CKeDITOR.dom.element.createFromHtml(['<span id="cKe_',e,'" class="',c.skinClass,' ',c.id,' cKe_editor_',e,'" dir="',c.lang.dir,'" title="',CKeDITOR.env.gecko?' ':'','" lang="',c.langCode,'"'+(CKeDITOR.env.webkit?' tabindex="'+l+'"':'')+' role="application"'+' aria-labelledby="cKe_',e,'_arialbl"'+(m?' style="'+m+'"':'')+'>'+'<span id="cKe_',e,'_arialbl" class="cKe_voice_label">'+c.lang.editor+'</span>'+'<span class="',CKeDITOR.env.cssClass,'" role="presentation"><span class="cKe_wrapper cKe_',c.lang.dir,'" role="presentation"><table class="cKe_editor" border="0" cellspacing="0" cellpadding="0" role="presentation"><tbody><tr',h?'':' style="display:none"',' role="presentation"><td id="cKe_top_',e,'" class="cKe_top" role="presentation">',h,'</td></tr><tr',i?'':' style="display:none"',' role="presentation"><td id="cKe_contents_',e,'" class="cKe_contents" style="height:',k,'" role="presentation">',i,'</td></tr><tr',j?'':' style="display:none"',' role="presentation"><td id="cKe_bottom_',e,'" class="cKe_bottom" role="presentation">',j,'</td></tr></tbody></table>'+q+'</span>'+'</span>'+'</span>'].join(''));
r.getChild([1,0,0,0,0]).unselectable();r.getChild([1,0,0,0,2]).unselectable();if(g==CKeDITOR.ELEMENT_MODE_REPLACE)r.insertAfter(f);else f.append(r);c.container=r;r.disableContextMenu();c.on('contentDirChanged',function(s){var t=(c.lang.dir!=s.data?'add':'remove')+'Class';r.getChild(1)[t]('cKe_mixed_dir_content');var u=this.sharedSpaces&&this.sharedSpaces[this.config.toolbarLocation];u&&u.getParent().getParent()[t]('cKe_mixed_dir_content');});c.fireOnce('themeLoaded');c.fireOnce('uiReady');},buildDialog:function(c){var d=CKeDITOR.tools.getNextNumber(),e=CKeDITOR.dom.element.createFromHtml(['<div class="',c.id,'_dialog cKe_editor_',c.name.replace('.','\\.'),'_dialog cKe_skin_',c.skinName,'" dir="',c.lang.dir,'" lang="',c.langCode,'" role="dialog" aria-labelledby="%title#"><table class="cKe_dialog',' '+CKeDITOR.env.cssClass,' cKe_',c.lang.dir,'" style="position:absolute" role="presentation"><tr><td role="presentation"><div class="%body" role="presentation"><div id="%title#" class="%title" role="presentation"></div><a id="%close_button#" class="%close_button" href="javascript:void(0)" title="'+c.lang.common.close+'" role="button"><span class="cKe_label">X</span></a>'+'<div id="%tabs#" class="%tabs" role="tablist"></div>'+'<table class="%contents" role="presentation">'+'<tr>'+'<td id="%contents#" class="%contents" role="presentation"></td>'+'</tr>'+'<tr>'+'<td id="%footer#" class="%footer" role="presentation"></td>'+'</tr>'+'</table>'+'</div>'+'<div id="%tl#" class="%tl"></div>'+'<div id="%tc#" class="%tc"></div>'+'<div id="%tr#" class="%tr"></div>'+'<div id="%ml#" class="%ml"></div>'+'<div id="%mr#" class="%mr"></div>'+'<div id="%bl#" class="%bl"></div>'+'<div id="%bc#" class="%bc"></div>'+'<div id="%br#" class="%br"></div>'+'</td></tr>'+'</table>',CKeDITOR.env.ie?'':'<style>.cKe_dialog{visibility:hidden;}</style>','</div>'].join('').replace(/#/g,'_'+d).replace(/%/g,'cKe_dialog_')),f=e.getChild([0,0,0,0,0]),g=f.getChild(0),h=f.getChild(1);g.unselectable();h.unselectable();return{element:e,parts:{dialog:e.getChild(0),title:g,close:h,tabs:f.getChild(2),contents:f.getChild([3,0,0,0]),footer:f.getChild([3,0,1,0])}};},destroy:function(c){var d=c.container,e=c.element;if(d){d.clearCustomData();d.remove();}if(e){e.clearCustomData();c.elementMode==CKeDITOR.ELEMENT_MODE_REPLACE&&e.show();delete c.element;}}};})());CKeDITOR.editor.prototype.getThemeSpace=function(a){var b='cKe_'+a,c=this._[b]||(this._[b]=CKeDITOR.document.getById(b+'_'+this.name));return c;};CKeDITOR.editor.prototype.resize=function(a,b,c,d){var e=this.container,f=CKeDITOR.document.getById('cKe_contents_'+this.name),g=d?e.getChild(1):e;
CKeDITOR.env.webkit&&g.setStyle('display','none');g.setSize('width',a,true);if(CKeDITOR.env.webkit){g.$.offsetWidth;g.setStyle('display','');}var h=c?0:(g.$.offsetHeight||0)-(f.$.clientHeight||0);f.setStyle('height',Math.max(b-h,0)+'px');this.fire('resize');};CKeDITOR.editor.prototype.getResizable=function(){return this.container;};
